<mat-toolbar class="d-flex flex-row" *ngIf="user && user.roles && user.roles.admin">
	<button mat-button (click)="addMessage()">
		<mat-icon>add</mat-icon>
	</button>
</mat-toolbar>

<mat-card *ngFor="let message of messages" style="margin: 10px auto">
	<div class="d-flex flex-row col-12">
		<div class="col-2" style="display: flex; flex-direction:column; justify-content: center">
			<div style="text-align:center;">
				<div style="font-size:1.2em">
					8
				</div>
				<div class="d-flex flex-column justify-content-center align-items-center">
					<button mat-button style="min-width:0">
						<mat-icon style="font-size:1.8em">thumb_up</mat-icon>
					</button>
					<!-- <div matBadge="22" matBadgePosition="below after"></div> -->
				</div>
			</div>
		</div>
		<mat-card-content class="col-10">
			<mat-card-title>
				{{ message.title }}
				<mat-card-subtitle>
					{{ message.timestamp | date:'short' }}
				</mat-card-subtitle>
			</mat-card-title>
			{{ message.body }}
		</mat-card-content>
	</div>
	<mat-card-footer class="d-flex justify-content-end">
		<button mat-button>
			<mat-icon>reply_all</mat-icon>
		</button>
	</mat-card-footer>
</mat-card>

<div infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="1000" (scrolled)="loadMore()"></div>